{# 
  BizBooks Form Macros
  ====================
  Reusable form components for consistent UI
  
  Usage:
  {% from "_form_macros.html" import text_field, number_field, select_field, textarea_field %}
#}

{# Text Input Field #}
{% macro text_field(name, label, required=false, placeholder='', help_text='', value='') %}
<div class="form-group">
    <label class="field-label {% if required %}field-label--required{% endif %}" for="{{ name }}">
        {{ label }}
    </label>
    <input 
        type="text" 
        name="{{ name }}" 
        id="{{ name }}" 
        placeholder="{{ placeholder }}"
        value="{{ value }}"
        {% if required %}required{% endif %}
    >
    {% if help_text %}
    <small class="help-text">{{ help_text }}</small>
    {% endif %}
</div>
{% endmacro %}

{# Number Input Field #}
{% macro number_field(name, label, required=false, placeholder='0.00', help_text='', value='', min='0', step='0.01') %}
<div class="form-group">
    <label class="field-label {% if required %}field-label--required{% endif %}" for="{{ name }}">
        {{ label }}
    </label>
    <input 
        type="number" 
        name="{{ name }}" 
        id="{{ name }}" 
        placeholder="{{ placeholder }}"
        value="{{ value }}"
        min="{{ min }}"
        step="{{ step }}"
        {% if required %}required{% endif %}
    >
    {% if help_text %}
    <small class="help-text">{{ help_text }}</small>
    {% endif %}
</div>
{% endmacro %}

{# Select/Dropdown Field #}
{% macro select_field(name, label, options, required=false, help_text='', selected='') %}
<div class="form-group">
    <label class="field-label {% if required %}field-label--required{% endif %}" for="{{ name }}">
        {{ label }}
    </label>
    <select 
        name="{{ name }}" 
        id="{{ name }}"
        {% if required %}required{% endif %}
    >
        {% for value, text in options %}
        <option value="{{ value }}" {% if value == selected %}selected{% endif %}>
            {{ text }}
        </option>
        {% endfor %}
    </select>
    {% if help_text %}
    <small class="help-text">{{ help_text }}</small>
    {% endif %}
</div>
{% endmacro %}

{# Textarea Field #}
{% macro textarea_field(name, label, required=false, placeholder='', help_text='', value='', rows=3) %}
<div class="form-group">
    <label class="field-label {% if required %}field-label--required{% endif %}" for="{{ name }}">
        {{ label }}
    </label>
    <textarea 
        name="{{ name }}" 
        id="{{ name }}" 
        rows="{{ rows }}"
        placeholder="{{ placeholder }}"
        {% if required %}required{% endif %}
    >{{ value }}</textarea>
    {% if help_text %}
    <small class="help-text">{{ help_text }}</small>
    {% endif %}
</div>
{% endmacro %}

{# Checkbox Field #}
{% macro checkbox_field(name, label, checked=false, help_text='') %}
<div class="form-group">
    <label class="checkbox-group">
        <input 
            type="checkbox" 
            name="{{ name }}" 
            id="{{ name }}"
            {% if checked %}checked{% endif %}
        >
        <span>{{ label }}</span>
    </label>
    {% if help_text %}
    <small class="help-text">{{ help_text }}</small>
    {% endif %}
</div>
{% endmacro %}

{# Radio Group Field #}
{% macro radio_group(name, label, options, required=false, selected='') %}
<div class="form-group">
    <label class="field-label {% if required %}field-label--required{% endif %}">
        {{ label }}
    </label>
    <div class="radio-group">
        {% for value, text in options %}
        <label>
            <input 
                type="radio" 
                name="{{ name }}" 
                value="{{ value }}"
                {% if value == selected or (loop.first and not selected) %}checked{% endif %}
                {% if required %}required{% endif %}
            >
            <span>{{ text }}</span>
        </label>
        {% endfor %}
    </div>
</div>
{% endmacro %}

{# Form Row (2 columns) #}
{% macro form_row_2(content1, content2) %}
<div class="form-row">
    <div class="form-group">
        {{ content1 }}
    </div>
    <div class="form-group">
        {{ content2 }}
    </div>
</div>
{% endmacro %}

{# Section Title #}
{% macro section_title(title, icon='') %}
<h3 class="section-title">
    {% if icon %}{{ icon }} {% endif %}{{ title }}
</h3>
{% endmacro %}

