{% extends "base.html" %}

{% block title %}Edit Material{% endblock %}

{% block nav_links %}
<a href="/admin/dashboard">Dashboard</a>
<a href="/admin/employees">Employees</a>
<a href="/admin/sites">Sites</a>
<a href="/admin/inventory">Inventory</a>
<a href="/admin/logout">Logout</a>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 700px; margin: 0 auto;">
    <h1>✏️ Edit Material</h1>
    <p style="color: #7f8c8d;">Update material details (stock quantities remain unchanged)</p>
    
    <form method="POST" style="margin-top: 30px;">
        <div class="form-group">
            <label class="field-label">Material Name: *</label>
            <input type="text" name="name" value="{{ material.name }}" required>
        </div>
        
        <div class="form-group">
            <label class="field-label">Category:</label>
            <input type="text" name="category" value="{{ material.category or '' }}" placeholder="e.g., Raw Materials, Building Materials">
        </div>
        
        <div class="form-group">
            <label class="field-label">Unit: *</label>
            <select name="unit" required>
                <option value="tons" {% if material.unit == 'tons' %}selected{% endif %}>Tons</option>
                <option value="bags" {% if material.unit == 'bags' %}selected{% endif %}>Bags</option>
                <option value="kg" {% if material.unit == 'kg' %}selected{% endif %}>Kg (Kilograms)</option>
                <option value="liters" {% if material.unit == 'liters' %}selected{% endif %}>Liters</option>
                <option value="pcs" {% if material.unit == 'pcs' %}selected{% endif %}>Pcs (Pieces)</option>
                <option value="nos" {% if material.unit == 'nos' %}selected{% endif %}>Nos (Numbers)</option>
                <option value="cubic_meter" {% if material.unit == 'cubic_meter' %}selected{% endif %}>Cubic Meter</option>
                <option value="sqm" {% if material.unit == 'sqm' %}selected{% endif %}>Square Meter</option>
            </select>
        </div>
        
        <div class="form-group">
            <label class="field-label">Description:</label>
            <textarea name="description" rows="3">{{ material.description or '' }}</textarea>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px;">
            <a href="/admin/inventory" class="btn" style="background: #95a5a6; text-align: center; text-decoration: none; padding: 15px;">
                Cancel
            </a>
            <button type="submit" class="btn btn-success" style="padding: 15px;">
                ✅ Save Changes
            </button>
        </div>
    </form>
</div>

<div class="card" style="max-width: 700px; margin: 20px auto; background: #fff3cd; border-left: 4px solid #ffc107;">
    <h3 style="color: #856404; margin-bottom: 15px;">ℹ️ Note</h3>
    <ul style="color: #856404; line-height: 1.8;">
        <li>Editing material details <strong>does NOT change stock quantities</strong></li>
        <li>All stock records and movements remain unchanged</li>
        <li>Use "Delete" if you want to remove and re-add with fresh data</li>
    </ul>
</div>
{% endblock %}

