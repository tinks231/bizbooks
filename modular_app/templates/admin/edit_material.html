 {% extends "base.html" %}

{% block title %}Edit Material{% endblock %}

{% block nav_links %}
<a href="/admin/dashboard">Dashboard</a>
<a href="/admin/employees">Employees</a>
<a href="/admin/sites">Sites</a>
<a href="/admin/inventory">Inventory</a>
<a href="/admin/logout">Logout</a>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 700px; margin: 0 auto;">
    <h1>✏️ Edit Material</h1>
    <p style="color: #7f8c8d;">Update material details (stock quantities remain unchanged)</p>
    
    <form method="POST" style="margin-top: 30px;">
        <div class="form-group">
            <label class="field-label">Material Name: *</label>
            <input type="text" name="name" value="{{ material.name }}" required>
        </div>
        
        <div class="form-group">
            <label class="field-label">Category:</label>
            <input type="text" name="category" value="{{ material.category or '' }}" placeholder="e.g., Raw Materials, Building Materials">
        </div>
        
        <div class="form-group">
            <label class="field-label">Unit: *</label>
            <select name="unit" required>
                <option value="nos" {% if material.unit == 'nos' %}selected{% endif %}>Nos (Numbers)</option>
                <option value="pcs" {% if material.unit == 'pcs' %}selected{% endif %}>Pcs (Pieces)</option>
                <option value="dozen" {% if material.unit == 'dozen' %}selected{% endif %}>Dozen</option>
                <option value="kg" {% if material.unit == 'kg' %}selected{% endif %}>Kg (Kilogram)</option>
                <option value="qtl" {% if material.unit == 'qtl' %}selected{% endif %}>Qtl (Quintal)</option>
                <option value="ton" {% if material.unit == 'ton' or material.unit == 'tons' %}selected{% endif %}>Ton</option>
                <option value="g" {% if material.unit == 'g' %}selected{% endif %}>G (Gram)</option>
                <option value="ltr" {% if material.unit == 'ltr' or material.unit == 'liters' %}selected{% endif %}>Ltr (Liter)</option>
                <option value="ml" {% if material.unit == 'ml' %}selected{% endif %}>Ml (Milliliter)</option>
                <option value="mtr" {% if material.unit == 'mtr' %}selected{% endif %}>Mtr (Meter)</option>
                <option value="cm" {% if material.unit == 'cm' %}selected{% endif %}>Cm (Centimeter)</option>
                <option value="ft" {% if material.unit == 'ft' %}selected{% endif %}>Ft (Foot)</option>
                <option value="sqm" {% if material.unit == 'sqm' %}selected{% endif %}>Sqm (Square Meter)</option>
                <option value="cum" {% if material.unit == 'cum' or material.unit == 'cubic_meter' %}selected{% endif %}>Cum (Cubic Meter)</option>
                <option value="cft" {% if material.unit == 'cft' %}selected{% endif %}>Cft (Cubic Feet)</option>
                <option value="box" {% if material.unit == 'box' %}selected{% endif %}>Box</option>
                <option value="bag" {% if material.unit == 'bag' or material.unit == 'bags' %}selected{% endif %}>Bag</option>
                <option value="packet" {% if material.unit == 'packet' %}selected{% endif %}>Packet</option>
                <option value="bundle" {% if material.unit == 'bundle' %}selected{% endif %}>Bundle</option>
            </select>
        </div>
        
        <div class="form-group">
            <label class="field-label">Description:</label>
            <textarea name="description" rows="3">{{ material.description or '' }}</textarea>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px;">
            <a href="/admin/inventory" class="btn" style="background: #95a5a6; text-align: center; text-decoration: none; padding: 15px;">
                Cancel
            </a>
            <button type="submit" class="btn btn-success" style="padding: 15px;">
                ✅ Save Changes
            </button>
        </div>
    </form>
</div>

<div class="card" style="max-width: 700px; margin: 20px auto; background: #fff3cd; border-left: 4px solid #ffc107;">
    <h3 style="color: #856404; margin-bottom: 15px;">ℹ️ Note</h3>
    <ul style="color: #856404; line-height: 1.8;">
        <li>Editing material details <strong>does NOT change stock quantities</strong></li>
        <li>All stock records and movements remain unchanged</li>
        <li>Use "Delete" if you want to remove and re-add with fresh data</li>
    </ul>
</div>
{% endblock %}

